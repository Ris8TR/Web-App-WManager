<div class="col-lg justify-content-md-center vh-100">
  <!-- Contenitore per la mappa -->
  <div id="map" style="height: 600px; min-height: 80%; position: relative;">

    <!-- Lista dei sensori caricati -->
    <div id="sensor-list" class="sensor-list" style="position: absolute; top: 10px; right: 10px; z-index: 600;">
      <ul style="list-style-type: none; padding: 0;">
        <li *ngFor="let sensor of sensors" style="margin-bottom: 10px;">
          <button
            type="button"
            class="btn"
            [ngClass]="{
              'btn-primary': selectedSensor !== sensor.id,
              'btn-success': selectedSensor === sensor.id
            }"
            (click)="onSensorSelect(sensor)"
          >
            {{ sensor.companyName }} - {{ sensor.description }}
          </button>
        </li>
      </ul>
    </div>
    <!-- Pannello laterale (sidebar) -->
    <div id="sidebar" class="sidebar sidebar-left leaflet-touch" (click)="$event.stopPropagation()" style="display: block;">

      <!-- Tabs della sidebar -->
      <div class="sidebar-tabs">
        <ul role="tablist">
          <li id="topHome" class="active">
            <a href="" role="tab">
              <svg class="svg-inline--fa fa-bars fa-w-14" aria-hidden="true" data-prefix="fa" data-icon="bars" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
                <path fill="currentColor" d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"></path>
              </svg>
            </a>
          </li>
        </ul>
      </div>

      <!-- Contenuto della sidebar -->
      <div class="sidebar-content overMap" (click)="$event.stopPropagation()">
        <div class="sidebar-pane active" id="home">
          <h1 class="sidebar-header">
            Control Panel
            <span class="sidebar-close" (click)="togglePanel($event)">
          <!-- Icona di chiusura -->
          <svg class="svg-inline--fa fa-caret-left fa-w-6" aria-hidden="true" data-prefix="fa" data-icon="caret-left" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192 512">
            <path fill="currentColor" d="M192 127.338v257.324c0 17.818-21.543 26.741-34.142 14.142L29.196 270.142c-7.81-7.81-7.81-20.474 0-28.284l128.662-128.662c12.599-12.6 34.142-3.676 34.142 14.142z"></path>
          </svg>
        </span>
          </h1>


          <!-- Sezione della legenda -->
          <div class="row text-center justify-content-center align-self-center">
            <div class="col-md-12">
              <div class="my-legend">
                <div class="legend-title" style="font-size: 9px;color: #fff">Temperatura a 2m (Â°C)</div>
                <div class="legend-scale">
                  <ul class="legend-labels">
                    <!-- Scala della temperatura -->
                    <li *ngFor="let item of temperatureScale" style="color: #fff;font-size: 9px;">
                      <span [style.background]="item.color"></span>{{ item.label }}
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <!-- Selettore dell'intervallo -->
          <div class="row text-center justify-content-center align-self-center">
            <div class="col-md-12">
              <select class="form-select" aria-label="Select Interval" (change)="onIntervalSelect($event)">
                <option selected>Select Interval</option>
                <option value="5">Last 5 minutes</option>
                <option value="10">Last 10 minutes</option>
                <option value="15">Last 15 minutes</option>
              </select>
            </div>
          </div>

          <!-- Sezione di selezione della data e ora -->
          <div *ngIf="logStringResult !== 'Login'" class="row text-center justify-content-center align-self-center">
            <div class="row" id="calendar">
              <div class="col">
                <div class="form-group">
                  <label for="startDate">Start Day</label>
                  <input id="startDate" class="form-control" type="date" [(ngModel)]="startDate" />
                </div>
              </div>
              <div class="col">
                <div class="form-group">
                  <label for="startHour">Start Hour</label>
                  <input id="startHour" class="form-control" type="time" [(ngModel)]="startHour">
                </div>
              </div>
            </div>
            <div class="row" id="calendarEnd">
              <div class="col">
                <div class="form-group">
                  <label for="endDate">End Day</label>
                  <input id="endDate" class="form-control" type="date" [(ngModel)]="endDate" />
                </div>
              </div>
              <div class="col">
                <div class="form-group">
                  <label for="endHour">End Hour</label>
                  <input id="endHour" class="form-control" type="time" [(ngModel)]="endHour">
                </div>
              </div>
            </div>
            <!-- Bottone per confermare il range di date -->
            <div class="row">
              <div class="col">
                <button type="button" class="btn btn-primary" style="margin-top:10px;" (click)="onDateRangeSubmit()">Submit</button>
              </div>
            </div>
          </div>

        </div>


    </div>
    </div>
      <div>
      </div>
    <div class="row text-center justify-content-center align-self-center"  id="sensor-type-list" style="position: absolute; padding-bottom: 10px; left: 20px; bottom: 20px; min-height: 50px; z-index: 600;"  >
      <ul class="d-flex" style="list-style-type: none; padding: 0; margin: 0; display: flex; flex-direction: row; gap: 10px;" >
        <li *ngFor="let type of sensorTypeList">
          <button type="button" class="btn" [ngClass]="{ 'btn-primary': selectedSensor !== type, 'btn-success': selectedSensor === type    }" (click)="onSensorTypeSelect(type)">
            {{ type }}
          </button>
        </li>
      </ul>
    </div>



  </div>


</div>
